<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clue Notes</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .accordion-content {
            display: none;
        }
        .dark-mode {
            background-color: #1a202c;
            color: #a0aec0;
        }
        .dark-mode .bg-white {
            background-color: #2d3748;
        }
        .dark-mode .text-black {
            color: #a0aec0;
        }
        .dark-mode .bg-gray-100 {
            background-color: #1a202c;
        }
        .dark-mode .bg-blue-500 {
            background-color: #2b6cb0;
        }
        .dark-mode .bg-red-500 {
            background-color: #c53030;
        }
    </style>
</head>
<body class="bg-gray-100 p-6">
    <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg">
        <header class="flex justify-between items-center mb-4">
            <label class="flex items-center cursor-pointer">
                <div class="relative">
                    <input type="checkbox" id="themeToggle" class="sr-only" onclick="toggleTheme()">
                    <div class="block bg-gray-600 w-14 h-8 rounded-full"></div>
                    <div class="dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition flex items-center justify-center">
                        <svg id="sunIcon" class="w-4 h-4 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2v2m0 16v2m8-10h2m-18 0H2m15.364-7.364l1.414 1.414M4.222 19.778l1.414-1.414M19.778 19.778l-1.414-1.414M4.222 4.222l1.414 1.414M12 6a6 6 0 100 12 6 6 0 000-12z"></path></svg>
                        <svg id="moonIcon" class="w-4 h-4 text-gray-800 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"></path></svg>
                    </div>
                </div>
            </label>
            <h1 class="text-2xl font-bold text-center flex-grow">Clue Notes</h1>
            <button onclick="resetInputs()" class="bg-red-500 text-white px-4 py-2 rounded">Reset</button>
        </header>
        
        <h2 class="text-xl font-semibold mb-2 cursor-pointer" onclick="toggleAccordion('rooms')">Rooms</h2>
        <div id="rooms" class="accordion-content space-y-2">
            <label class="block"><input type="checkbox" name="room" value="Ballroom" onchange="autoSave()" class="mr-2"> Ballroom</label>
            <label class="block"><input type="checkbox" name="room" value="Conservatory" onchange="autoSave()" class="mr-2"> Conservatory</label>
            <label class="block"><input type="checkbox" name="room" value="Dining Room" onchange="autoSave()" class="mr-2"> Dining Room</label>
            <label class="block"><input type="checkbox" name="room" value="Kitchen" onchange="autoSave()" class="mr-2"> Kitchen</label>
            <label class="block"><input type="checkbox" name="room" value="Library" onchange="autoSave()" class="mr-2"> Library</label>
            <label class="block"><input type="checkbox" name="room" value="Lounge" onchange="autoSave()" class="mr-2"> Lounge</label>
            <label class="block"><input type="checkbox" name="room" value="Study" onchange="autoSave()" class="mr-2"> Study</label>
            <label class="block"><input type="checkbox" name="room" value="Hall" onchange="autoSave()" class="mr-2"> Hall</label>
            <label class="block"><input type="checkbox" name="room" value="Billiard Room" onchange="autoSave()" class="mr-2"> Billiard Room</label>
        </div>

        <h2 class="text-xl font-semibold mt-6 mb-2 cursor-pointer" onclick="toggleAccordion('characters')">Characters</h2>
        <div id="characters" class="accordion-content space-y-2">
            <label class="block"><input type="checkbox" name="character" value="Miss Scarlet" onchange="autoSave()" class="mr-2"> Miss Scarlet</label>
            <label class="block"><input type="checkbox" name="character" value="Professor Plum" onchange="autoSave()" class="mr-2"> Professor Plum</label>
            <label class="block"><input type="checkbox" name="character" value="Mrs. Peacock" onchange="autoSave()" class="mr-2"> Mrs. Peacock</label>
            <label class="block"><input type="checkbox" name="character" value="Mr. Green" onchange="autoSave()" class="mr-2"> Mr. Green</label>
            <label class="block"><input type="checkbox" name="character" value="Colonel Mustard" onchange="autoSave()" class="mr-2"> Colonel Mustard</label>
            <label class="block"><input type="checkbox" name="character" value="Mrs. White" onchange="autoSave()" class="mr-2"> Mrs. White</label>
        </div>

        <h2 class="text-xl font-semibold mt-6 mb-2 cursor-pointer" onclick="toggleAccordion('weapons')">Weapons</h2>
        <div id="weapons" class="accordion-content space-y-2">
            <label class="block"><input type="checkbox" name="weapon" value="Candlestick" onchange="autoSave()" class="mr-2"> Candlestick</label>
            <label class="block"><input type="checkbox" name="weapon" value="Dagger" onchange="autoSave()" class="mr-2"> Dagger</label>
            <label class="block"><input type="checkbox" name="weapon" value="Lead Pipe" onchange="autoSave()" class="mr-2"> Lead Pipe</label>
            <label class="block"><input type="checkbox" name="weapon" value="Revolver" onchange="autoSave()" class="mr-2"> Revolver</label>
            <label class="block"><input type="checkbox" name="weapon" value="Rope" onchange="autoSave()" class="mr-2"> Rope</label>
            <label class="block"><input type="checkbox" name="weapon" value="Wrench" onchange="autoSave()" class="mr-2"> Wrench</label>
        </div>
    </div>
    <script>
        // Function to auto-save notes to localStorage
        function autoSave() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const notes = {};
            checkboxes.forEach(checkbox => {
                notes[checkbox.value] = checkbox.checked;
            });
            localStorage.setItem('clueNotes', JSON.stringify(notes));
        }

        // Function to reset inputs and clear localStorage
        function resetInputs() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
            localStorage.removeItem('clueNotes');
        }

        // Load saved notes on page load
        window.onload = function() {
            const notes = JSON.parse(localStorage.getItem('clueNotes')) || {};
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            checkboxes.forEach(checkbox => {
                checkbox.checked = notes[checkbox.value] || false;
            });
        }

        // Function to toggle accordion content
        function toggleAccordion(id) {
            const content = document.getElementById(id);
            if (content.style.display === "none" || content.style.display === "") {
                content.style.display = "block";
            } else {
                content.style.display = "none";
            }
        }

        // Function to toggle theme
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const themeToggle = document.getElementById('themeToggle');
            const dot = themeToggle.nextElementSibling.nextElementSibling;
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            if (document.body.classList.contains('dark-mode')) {
                dot.style.transform = 'translateX(100%)';
                sunIcon.classList.add('hidden');
                moonIcon.classList.remove('hidden');
            } else {
                dot.style.transform = 'translateX(0)';
                sunIcon.classList.remove('hidden');
                moonIcon.classList.add('hidden');
            }
        }
    </script>
</body>
</html>